<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>

  <!-- Pixel-like font (Press Start 2P). It's imported for demo; remove or replace if offline. -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    :root{
      --bg:#ffd6e0;
      --accent:#ff4d6d;
      --muted:#ff9fb0;
      --white:#fff;
    }

    html,body{
      height:100%;
      margin:0;
      font-family: 'Press Start 2P', monospace;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background: linear-gradient(180deg, #ffe7ee 0%, #ffd6e0 100%);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* Page container */
    .card{
      width:92%;
      max-width:720px;
      min-height:420px;
      background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
      border-radius:20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
      position:relative;
      overflow:hidden;
      padding:36px;
      text-align:center;
    }

    /* Decorative tiny hearts layer */
    .hearts {
      position:absolute;
      inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .heart {
      position:absolute;
      width:12px;
      height:12px;
      transform:rotate(-45deg);
      background:var(--accent);
      border-radius:2px 2px 0 0;
      opacity:0.9;
      animation: floatUp linear infinite;
      box-shadow: 0 1px 0 rgba(0,0,0,0.08);
    }
    .heart::after,
    .heart::before{
      content:"";
      position:absolute;
      width:12px;
      height:12px;
      background:var(--accent);
      border-radius:50%;
      top:-6px;
      left:0;
    }
    .heart::before{
      left:6px;
    }
    @keyframes floatUp{
      from { transform: translateY(0) rotate(-45deg); opacity:0.95; }
      to   { transform: translateY(-140px) rotate(-45deg); opacity:0.15; }
    }

    /* Main message */
    .message{
      margin-top:18px;
      color:#b3002d;
      font-size:20px;
      line-height:1.2;
      letter-spacing:0.02em;
    }
    .title{
      font-size:22px;
      color:#ff2b5c;
      margin-bottom:18px;
    }

    /* Buttons */
    .controls{
      margin-top:28px;
      display:flex;
      gap:18px;
      justify-content:center;
      align-items:center;
      position:relative;
      height:64px;
    }
    .btn{
      --pad:14px 22px;
      background:var(--white);
      border:2px solid var(--accent);
      color:var(--accent);
      padding:var(--pad);
      border-radius:12px;
      cursor:pointer;
      font-size:12px;
      transition: transform 160ms ease, box-shadow 160ms ease;
      user-select:none;
      box-shadow: 0 6px 14px rgba(255,77,109,0.12);
    }
    .btn:active{ transform: translateY(2px); }
    .btn.yes{
      background: linear-gradient(180deg,#fff 0%, #fff0 100%);
      color:#b3002d;
      border-color:#ff2b5c;
    }
    .btn.no{
      background: linear-gradient(180deg,#fff 0%, #fff0 100%);
      color:#ff2b5c;
      border-color:#ff9fb0;
      position:absolute;
      left:50%;
      transform:translateX(-50%);
    }

    /* Confetti canvas overlay */
    #confettiCanvas{
      position:absolute;
      inset:0;
      pointer-events:none;
    }

    /* Final "I love you" style */
    .love {
      margin-top:18px;
      font-size:18px;
      color:#ff2b5c;
      opacity:0;
      transform:translateY(6px);
      transition: all 420ms cubic-bezier(.2,.9,.3,1);
    }
    .love.show{
      opacity:1;
      transform:translateY(0);
    }

    /* small responsive tweaks */
    @media (max-width:420px){
      .card{ padding:20px; }
      .title{ font-size:18px; }
      .message{ font-size:14px; }
      .btn{ font-size:11px; padding:10px 14px; border-radius:10px; }
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <canvas id="confettiCanvas"></canvas>

    <div class="hearts" id="heartsLayer" aria-hidden="true"></div>

    <div class="content">
      <div class="title">Will you be my Valentine?</div>
      <div class="message" id="message">I made this just for you üíñ</div>

      <div class="controls" id="controls">
        <button class="btn yes" id="yesBtn" aria-label="Yes">Yes</button>
        <button class="btn no" id="noBtn" aria-label="No">No</button>
      </div>

      <div class="love" id="loveText">I love you ‚ù§Ô∏è</div>
    </div>
  </div>

  <script>
    // ---------- Decorative hearts generation ----------
    (function makeHearts(){
      const layer = document.getElementById('heartsLayer');
      const count = 28;
      const w = layer.clientWidth || window.innerWidth;
      const h = layer.clientHeight || window.innerHeight;
      for(let i=0;i<count;i++){
        const el = document.createElement('div');
        el.className = 'heart';
        const size = 8 + Math.random()*12;
        el.style.width = size + 'px';
        el.style.height = size + 'px';
        el.style.left = Math.random()*100 + '%';
        el.style.top = 60 + Math.random()*40 + '%';
        el.style.opacity = 0.6 + Math.random()*0.4;
        el.style.animationDuration = (6 + Math.random()*6) + 's';
        el.style.transform = 'rotate(-45deg)';
        layer.appendChild(el);
      }
    })();

    // ---------- No button dodge behavior ----------
    const noBtn = document.getElementById('noBtn');
    const yesBtn = document.getElementById('yesBtn');
    const controls = document.getElementById('controls');
    const card = document.getElementById('card');
    let accepted = false;

    function randomPositionForNo(){
      const rect = controls.getBoundingClientRect();
      const cardRect = card.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // compute available area inside controls
      const padding = 8;
      const minX = padding;
      const maxX
